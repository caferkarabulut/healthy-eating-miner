{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/cafer/Desktop/healty-eating-miner/web/src/lib/api.ts"],"sourcesContent":["const API_BASE = 'http://localhost:8000';\r\n\r\nexport async function apiRequest(\r\n    endpoint: string,\r\n    options: RequestInit = {}\r\n): Promise<Response> {\r\n    const token = typeof window !== 'undefined' ? localStorage.getItem('token') : null;\r\n\r\n    // No trailing slash - Azure App Service redirects slashed URLs to HTTP\r\n    const res = await fetch(`${API_BASE}${endpoint}`, {\r\n        ...options,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            ...(token ? { 'Authorization': `Bearer ${token}` } : {}), // Only add Authorization if token exists\r\n            ...options.headers,\r\n        },\r\n    });\r\n\r\n    // 401 hatasÄ± alÄ±nÄ±rsa oturumu sonlandÄ±r ve login'e yÃ¶nlendir\r\n    if (res.status === 401 && typeof window !== 'undefined') {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('email');\r\n        window.location.href = '/';\r\n    }\r\n\r\n    return res;\r\n}\r\n\r\nexport async function login(email: string, password: string): Promise<{ access_token: string } | null> {\r\n    const res = await apiRequest('/auth/login', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ email, password }),\r\n    });\r\n\r\n    if (res.ok) {\r\n        const data = await res.json();\r\n        localStorage.setItem('token', data.access_token);\r\n        localStorage.setItem('email', email);\r\n        return data;\r\n    }\r\n    return null;\r\n}\r\n\r\nexport async function register(email: string, password: string): Promise<boolean> {\r\n    const res = await apiRequest('/auth/register', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ email, password }),\r\n    });\r\n    return res.ok;\r\n}\r\n\r\nexport function logout() {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('email');\r\n}\r\n\r\nexport function getToken(): string | null {\r\n    return typeof window !== 'undefined' ? localStorage.getItem('token') : null;\r\n}\r\n\r\nexport function isAuthenticated(): boolean {\r\n    return !!getToken();\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,MAAM,WAAW;AAEV,eAAe,WAClB,QAAgB,EAChB,UAAuB,CAAC,CAAC;IAEzB,MAAM,QAAQ,sCAAgC,0BAAgC;IAE9E,uEAAuE;IACvE,MAAM,MAAM,MAAM,MAAM,GAAG,WAAW,UAAU,EAAE;QAC9C,GAAG,OAAO;QACV,SAAS;YACL,gBAAgB;YAChB,GAAI,sCAAQ,0BAAyC,CAAC,CAAC;YACvD,GAAG,QAAQ,OAAO;QACtB;IACJ;IAEA,6DAA6D;IAC7D;;IAMA,OAAO;AACX;AAEO,eAAe,MAAM,KAAa,EAAE,QAAgB;IACvD,MAAM,MAAM,MAAM,WAAW,eAAe;QACxC,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YAAE;YAAO;QAAS;IAC3C;IAEA,IAAI,IAAI,EAAE,EAAE;QACR,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,aAAa,OAAO,CAAC,SAAS,KAAK,YAAY;QAC/C,aAAa,OAAO,CAAC,SAAS;QAC9B,OAAO;IACX;IACA,OAAO;AACX;AAEO,eAAe,SAAS,KAAa,EAAE,QAAgB;IAC1D,MAAM,MAAM,MAAM,WAAW,kBAAkB;QAC3C,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YAAE;YAAO;QAAS;IAC3C;IACA,OAAO,IAAI,EAAE;AACjB;AAEO,SAAS;IACZ,aAAa,UAAU,CAAC;IACxB,aAAa,UAAU,CAAC;AAC5B;AAEO,SAAS;IACZ,OAAO,sCAAgC,0BAAgC;AAC3E;AAEO,SAAS;IACZ,OAAO,CAAC,CAAC;AACb"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/cafer/Desktop/healty-eating-miner/web/src/app/login/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { login } from '@/lib/api';\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setLoading(true);\r\n\r\n        const result = await login(email, password);\r\n\r\n        if (result) {\r\n            router.push('/dashboard');\r\n        } else {\r\n            setError('E-posta veya ÅŸifre hatalÄ±');\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900\">\r\n            <div className=\"bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-2xl w-full max-w-md border border-gray-700\">\r\n                <div className=\"text-center mb-8\">\r\n                    <h1 className=\"text-3xl font-bold text-white mb-2\">ðŸ¥— Healthy Eating</h1>\r\n                    <p className=\"text-gray-400\">GiriÅŸ Yap</p>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            E-posta\r\n                        </label>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            className=\"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition\"\r\n                            placeholder=\"ornek@email.com\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Åžifre\r\n                        </label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            className=\"w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition\"\r\n                            placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    {error && (\r\n                        <div className=\"bg-red-500/20 border border-red-500 text-red-400 px-4 py-3 rounded-lg text-sm\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className=\"w-full py-3 px-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg hover:from-green-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition disabled:opacity-50\"\r\n                    >\r\n                        {loading ? 'GiriÅŸ yapÄ±lÄ±yor...' : 'GiriÅŸ Yap'}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"mt-6 text-center\">\r\n                    <p className=\"text-gray-400\">\r\n                        HesabÄ±n yok mu?{' '}\r\n                        <Link href=\"/register\" className=\"text-green-400 hover:text-green-300 font-medium\">\r\n                            KayÄ±t Ol\r\n                        </Link>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACpB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,MAAM,SAAS,MAAM,IAAA,0HAAK,EAAC,OAAO;QAElC,IAAI,QAAQ;YACR,OAAO,IAAI,CAAC;QAChB,OAAO;YACH,SAAS;QACb;QACA,WAAW;IACf;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAU;sCAAqC;;;;;;sCACnD,8OAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;8BAGjC,8OAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACpC,8OAAC;;8CACG,8OAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,8OAAC;oCACG,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oCACxC,WAAU;oCACV,aAAY;oCACZ,QAAQ;;;;;;;;;;;;sCAIhB,8OAAC;;8CACG,8OAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,8OAAC;oCACG,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,WAAU;oCACV,aAAY;oCACZ,QAAQ;;;;;;;;;;;;wBAIf,uBACG,8OAAC;4BAAI,WAAU;sCACV;;;;;;sCAIT,8OAAC;4BACG,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,UAAU,uBAAuB;;;;;;;;;;;;8BAI1C,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAE,WAAU;;4BAAgB;4BACT;0CAChB,8OAAC,uKAAI;gCAAC,MAAK;gCAAY,WAAU;0CAAkD;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ3G"}}]
}